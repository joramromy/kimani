#:import Snackbar kivymd.uix.snackbar.Snackbar

<WindowManager>:
    transition: FadeSlideTransition()
    id: window_manager
    screen_manager: screen_manager
 
<Home>:
    name:'home'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    orientation: 'vertical'
    text: 'KIMANI'
    icon: 'kimani.jpg'
    #on_tab_press: app.root.current = 'log_in'
    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(50)
        spacing: dp(16)
        orientation: 'vertical'ima
                 
       
        MDTopAppBar:
            title: "[i]HOME[/i]"
                    
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background

    
                

        Image:
            id: image
            source: 'kimani.jpg'
                    
            allow_stretch: True
            keep_ratio: True
                
        BoxLayout:
            size_hint: .85, None
            height: "30dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            spacing: "5dp"
  
           

    
                
           
            MDFillRoundFlatButton:
                text: "ADMINISTRATION"
                font_size: "15dp"
                pos_hint:{"center_x":0.4,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginAdmin'
        BoxLayout:
            size_hint: .85, None
            height: "30dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            spacing: "5dp"
      

            MDFillRoundFlatButton:
                text: "EMPLOYEES"
                on_release: app.root.current = 'loff'
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.4
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
                    
        BoxLayout:
            id: chat_history
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            padding: dp(10)
            spacing: dp(10)
            Label:
                text: 'Welcome! How can I assist you?'
                size_hint_y: None      
                               
                      
<LogInAdmin>:
    name: 'loginAdmin'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('home')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotAdmin'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticateAdmin_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupAdmin'


            


        
<SignupKimaniStores>:
    name: 'signupkimanistores'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
    
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanistores')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
               

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanistore(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )

<ForgotKimanistores>:
    name:"forgotkimanistores"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        kidron.text = ""  # Clear text when entering


    on_leave:
        kidron.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanistore')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: kidron
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanistore(kidron.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


<PasswordResetKimaniStores>:
    name:"passwordresetkimanistores"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanistore')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanistore(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None

<ForgotKimaniDrilling>:
    name:"forgotkimanidrilling"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanidrilling')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanidrilling(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None

<PasswordResetKimanidrilling>:
    name:"passwordresetkimanidrilling"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanidrilling')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanidrilling(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None




<ForgotKimaniFinance>:
    name:"forgotkimanifinance"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanifinance')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanifinance(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None
<PasswordResetKimaniFinance>:
    name:"passwordresetkimanifinance"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanifinance')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanifinance(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None



<ForgotKimaniMechanics>:
    name:"forgotkimanimechanics"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanimechanics')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanimechanics(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


<PasswordResetKimaniMechanics>:
    name:"passwordresetkimanimechanics"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanimechanics')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanimechanics(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None




<ForgotKimaniSiteManagers>:
    name:"forgotkimanisitemanagers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanisitemanagers')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanisitemanagers(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


<PasswordResetKimaniSiteManagers>:
    name:"passwordresetkimanimanagers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanisitemanagers')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanisitemanagers(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None





<ForgotKimaniTransport>:
    name:"forgotkimanitransport"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanitransport')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordkimanitransport(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


<PasswordResetKimaniTransport>:
    name:"passwordresetkimanitransport"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotkimanitransport')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordkimanitransport(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None






<ForgotOtherKimaniWorkers>:
    name:"forgototherkimaniworkers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginotherkimaniworkers')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_passwordotherkimaniworkers(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None

<PasswordResetOtherKimaniWorkers>:
    name:"passwordresetotherkimaniworkers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgototherkimaniworkers')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_passwordotherkimaniworkers(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None










<SignupKimaniTransport>:
    name: 'signupkimanitransport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanitransport')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
               

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanitransport(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text,password_input.text, Comfirm_password_input.text )
<SignupKimaniDrilling>:
    name: 'signupKimaniDrilling'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanidrilling')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
         

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanidrilling(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text,password_input.text, Comfirm_password_input.text )
<SignupKimaniSiteManagers>:
    name: 'signupkimanisitemanagers'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
       
        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanisitemanagers(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )


<SignupOtherKimaniWorkers>:
    name: 'signupotherkimaniworkers'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
       
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
           

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userotherkimaniworkers(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )





<SignupKimaniFinance>:
    name: 'signupkimanifinance'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginkimanifinance')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
        
        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanifinance(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )



<SignupKimaniMechanics>:
    name: 'signupkimanimechanics'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
       
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
           

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanimechanics(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )




<SignupAdmin>:
    name: 'signupAdmin'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
        
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.65, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False

         
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False
               

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_userkimanifinance(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text ,password_input.text, Comfirm_password_input.text )

<UserpageAdmin>:
    name: "userpageAdmin"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Director/CEO"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpage'
            text: 'PROFILE'
            icon: 'account'
            #on_tab_press: app.show_screen('userpage')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.root.current = 'chat'  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            
        MDBottomNavigationItem:
            name: 'device manager'
            text: 'device manager'
            icon: 'notebook-multiple'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    left_action_items: [["arrow-left", lambda x: app.show_screen('home')]]
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

               
                    MapView:
                        id: map_view
                        zoom: 10  # Ad 

        MDBottomNavigationItem:
            name: 'Request & Approval'
            text: 'Requests'
            icon: 'notebook-multiple'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Request & Approval[/i]"
                    left_action_items: [["arrow-left", lambda x: app.show_screen('')]]
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
                    elevation: 10                       

<UserpageKimaniTransport>:
    name: "userpagekimanitransport"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Transport/Driver"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpagekimanitransport'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanitransport')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Caricullums'
            text: 'Curicullums '
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanitransportreport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanitransportrequest'
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'
                    MDRectangleFlatButton:
                        text: 'Vehicle progress'
                        on_release: app.root.current = 'vehicleprogress'  
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet' 

<UserpageKimaniDrilling>:
    name: "userpagekimanidrilling"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Driller"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpagekimanidrilling'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanidrilling')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'Curicullums '
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanidrillingreport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanidrillingrequest'
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet'  
                                
<UserpageKimaniFinance>:
    name: "userpagekimanifinance"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Finance"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpage'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanifinance')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'Curicullums'
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanifinancereport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanifinancerequest'
                    MDRectangleFlatButton:
                        text: 'Payment system'
                        on_release: app.root.current = 'payment'    
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'kimanitransportreport'
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'    
<UserpageKimaniMechanics>:
    name: "userpagekimanimechanics"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Mechanics expert"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpagekimanimechanics'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanimechanics')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'Curicullums '
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanimechanicsreport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanimechanicsrequest'
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet'    
                    MDRectangleFlatButton:
                        text: 'Maintainance done'
                        on_release: app.root.current = 'maintainance'
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'    
<UserpageOtherKimaniWorkers>:
    name: "userpageotherkimaniworkers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Employee"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpageotherkimaniworkers'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpageotherkimaniworkers')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'Curicullums '
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'otherkimaniworkersreport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'otherworkerskimanirequest'
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet'  
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'    
<UserpageKimaniStores>:                    
    name: "userpagekimanistores"

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Stores"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpagekimanistores'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanistores')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'Curicullums '
            icon: 'file-document'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanistorereports'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanistorerequests'
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet'      
                    MDRectangleFlatButton:
                        text: 'Device mananagement'
                        on_release: app.root.current = 'devicemanagement'  
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'    
<UserpageKimaniSiteManagers>:
    name: "userpagekimanisitemanagers"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()], ["logout", lambda x: app.on_logout()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "TITLE:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: title_label  # ID for updating username dynamically
                text: "Site Mananger"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Email:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                color: 0, 0, 0, 1  # Set label text color to black
                size_hint_y: None
                height: self.texture_size[1]

    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpagekimanisitemanagers'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpagekimanisitemanagers')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        
        
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Call the method that shows the chat screen
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                ScrollView:
                    MDList:
                        id: chat_log
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "48dp"
                    padding: "8dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}   
                    MDTextField:
                        id: message_input
                        hint_text: 'Type a message'
                        mode: 'rectangle'
                        on_text_validate: app.send_message()
                    MDRaisedButton:
                        text: 'Send'
                        on_release: app.send_message()           

        MDBottomNavigationItem:
            name: 'Curicullums'
            text: 'curicullums '
            icon: 'notebook-multiple'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    left_action_items: [["arrow-left", lambda x: app.show_screen('home')]]
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()],["logout", lambda x: app.on_logout()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    MDRectangleFlatButton:
                        text: 'REPORT'
                        on_release: app.root.current = 'kimanisitemanagerreport'
                    MDRectangleFlatButton:
                        text: 'REQUEST'
                        on_release: app.root.current = 'kimanisitemanagerrequests'
                    MDRectangleFlatButton:
                        text: 'Sicksheet & health'
                        on_release: app.root.current = 'sicksheet'      
                    MDRectangleFlatButton:
                        text: 'Device mananagement'
                        on_release: app.root.current = 'devicemanagement'  
                    MDRectangleFlatButton:
                        text: 'Anouncements'
                        on_release: app.root.current = 'anouncements'    
                    
                                                      

                                                                     
<ChatScreen>:
    name: 'chat'
    BoxLayout:
        orientation: 'vertical'
        spacing: "10dp"
        padding: "10dp"
        MDTopAppBar:
            title: "Chat"
            left_action_items: [["arrow-left", lambda x: app.show_screen('userpageAdmin')]]
            right_action_items: [["plus", lambda x: root.open_group_chat()]]
            elevation: 10
        ScrollView:
            MDList:
                id: chat_log
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "60dp"
            padding: "10dp"
            MDTextField:
                id: message_input
                hint_text: 'Type a message'
                mode: 'rectangle'
                on_text_validate: root.send_message()
            MDRaisedButton:
                text: 'Send'
                on_release: root.send_message()
            MDIconButton:
                icon: 'paperclip'
                on_release: root.attach_file()

<ChatGroupScreen>:
    name: 'chat_group'
    BoxLayout:
        orientation: 'vertical'
        padding: "10dp"
        spacing: "10dp"
        MDTopAppBar:
            title: "Group Chat"
            left_action_items: [["arrow-left", lambda x: root.go_back()]]
            right_action_items: [["plus", lambda x: root.add_members()]]
            elevation: 10
        ScrollView:
            MDList:
                id: group_chat_log
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: "60dp"
            padding: "10dp"
            MDTextField:
                id: group_message_input
                hint_text: 'Type a message'
                mode: 'rectangle'
                on_text_validate: root.send_group_message()
            MDRaisedButton:
                text: 'Send'
                on_release: root.send_group_message()
            MDIconButton:
                icon: 'paperclip'
                on_release: root.attach_file()

<GroupChatCreationScreen>:
    name: 'group_chat_creation'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'
        padding: "10dp"
        spacing: "10dp"
        MDTopAppBar:
            title: "Create Group Chat"
            left_action_items: [["arrow-left", lambda x: root.go_back()]]
            elevation: 10
        TextInput:
            id: group_name_input
            hint_text: "Enter group name"
            size_hint_y: None
            height: "40dp"
        MDRaisedButton:
            text: "Create"
            on_release: root.create_group()

<LogInKimaniMechanics>:
    name: 'loginkimanimechanics'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanimechanics'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = "signupkimanimechanics"
<LogInKimaniStore>:
    name: 'loginkimanistore'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanistores'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupkimanistores'
<LogInKimaniTransport>:
    name: 'loginkimanitransport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanitransport'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupkimanitransport'
<LogInKimaniDrilling>:
    name: 'loginkimanidrilling'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanidrilling'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupkimanidrilling'
<LogInKimaniFinance>:
    name: 'loginkimanifinance'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanifinance'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupkimanifinance'
<LogInKimaniSiteManagers>:
    name: 'loginkimanisitemanagers'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgotkimanisitemanagers'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_userkimanisitemanagers(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupkimanisitemanagers'
<LogInOtherKimaniWorkers>:
    name: 'loginotherkimaniworkers'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Clear text when entering
        password_input.text = ""
    on_leave:
        username_input.text = ""  # Clear text when leaving
    #Image:
       # source:"rony.jpg"
       # size_hint: 1, 1
       # allow_stretch: True

    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(30)
        spacing: dp(16)

        MDTopAppBar:
            title: "[i]KIMANI MINERALS[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('loff')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: ""  # Empty text removed
            font_size: "50dp"
            halign: 'center'
            color: "FF5623"
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: username_input
            hint_text: 'Enter your username'
            max_text_length: 40
            font_style: 'H6'
            icon_right: "account"
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            write_tab: False

        MDTextField:
            id: password_input
            hint_text: 'Enter your password'
            font_style: 'H6'
            password: True  # This hides the entered text
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input
            icon: "eye"

            MDIconButton:
                icon: "eye"
                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                on_release:
                    password_input.password = not password_input.password
                    self.icon = "eye-off" if password_input.password else "eye"

        BoxLayout:
            size_hint:.85,None
            height:"30dp"
            pos_hint:{"center_x":0.5,"center_y":0.4}
            spacing:"5dp"
            MDCheckbox:
                id:cb
                font_size: "20dp"
                size_hint:None,None
                width:"30dp"
                height:"30dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                on_press:
                    password_input.password = False if password_input.password == True else True
                    password_input.icon_right = "eye" if password_input.icon_right == "eye-off" else "eye off"
            MDLabel:
                text: "[ref= Show Password] Show Password[/ref]"
                font_size: "12dp"
                markup: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                on_ref_press:
                    cb.active = not cb.active

            MDFillRoundFlatButton:
                text: "forgot password"
                icon: "close"
                font_size: "12dp"
                on_release: app.root.current = 'forgototherkimaniworkers'

        BoxLayout:
            size_hint_x: 1, None
            height: "30dp"
            spacing: "20dp"
            pos_hint: {"center_x": 0.4, "center_y": 0.3}

            MDRectangleFlatButton:
                text: "LOG IN"
                font_size: "35dp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                size_hint_x: .8
                on_release: root.authenticate_user(username_input.text, password_input.text)

        BoxLayout:
            size_hint: 0.1, 0.1
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            height: "20dp"
            font_size: "5dp"
            spacing: "15dp"

            MDFillRoundFlatButton:
                text: " or click to SIGN UP"
                font_size: "10dp"
                size_hint_x: .8
                background_color: 0, 0, 0, 0
                on_release: app.root.current = 'signupotherkimaniworkers'







                          
    


   
            


        

<Signup>:
    name: 'signup'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password

    on_leave:
        username_input.text = ""  # Restore username
        full_name_input.text = ""
        male_checkbox.active = False  # Reset checkboxes
        female_checkbox.active = False  # Reset checkboxes
        Date_input.text = ""
        phone_input.text = ""  # Restore phone number
        email_input.text = ""  # Restore email
        password_input.text = ""  # Restore password
        Comfirm_password_input.text ="" # Restore confirm password
    #Image:
        #source:"jio.jpg"
        #size_hint: 1, 1
        #allow_stretch: True
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "SIGN UP"
            left_action_items: [["arrow-left",lambda x: app.show_screen('log_in')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10
        MDTextField:
            id: username_input
            hint_text:'Enter your username'
            max_text_length: 20
            on_text:self.text= self.text.replace("","")
            icon_right:"account"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.9}
            write_tab:False
        MDTextField:
            id: full_name_input
            hint_text: 'Enter your full name'
            font_size: "20dp"
            icon_right:"account"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5, "center_y": 0.8}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDLabel:
                pos_hint: {"center_x": 0.55}
                text: "Select your date of birth "
                theme_text_color: "Primary"
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.65, "center_y": 0.7}
            MDIconButton:

                pos_hint: {"center_x": 0.6, "center_y": 0.7}
                id:Date_input
                icon: "calendar"
                on_release: app.show_date_picker()



        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
        MDLabel:
            pos_hint: {"center_x": 0.55, "center_y": 0.65}
            text: " Gender "
            theme_text_color: "Primary"

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_x: .85
            pos_hint: {"center_x": 0.6}
            spacing: "10dp"


            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: male_checkbox  # ID for the Male checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                text: "Male"
                valign: "middle"

            MDCheckbox:
                pos_hint: {"center_x": 0.4, "center_y": 0.7}
                id: female_checkbox  # ID for the Female checkbox
                group: 'gender'
                size_hint: None, None
                size: "48dp", "48dp"
                on_active: if self.active: root.get_selected_gender()

            MDLabel:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                text: "Female"
                valign: "middle"




        MDTextField:
            id:phone_input
            hint_text:'Enter your phone number'
            max_text_length: 10
            on_text:self.text= self.text.replace("","")
            icon_right:"phone"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.55}
            write_tab:False
        MDTextField:
            id: email_input
            hint_text:'Enter your email'
            max_text_length: 60
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.5}
            write_tab:False

        MDTextField:
            id: password_input
            hint_text:'Enter your password'
            max_text_length:50
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.45}
            write_tab:False
            pasword:True
        MDTextField:
            id: Comfirm_password_input

            hint_text:'Comfirm your password'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"eye"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.4}
            write_tab:False
            pasword:True

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint:{"center_x":0.5,"center_y":0.2}
        MDRectangleFlatButton:
            text:"SIGN IN"
            font_size:"20dp"
            size_hint_x:1
            background_color:0,0,0,0
            on_release: root.create_user(username_input.text,full_name_input.text, Date_input.text, root.get_selected_gender(), phone_input.text,email_input.text, password_input.text, Comfirm_password_input.text )




<Userpage>:
    name: "userpage"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kima.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height

    BoxLayout:
        orientation: 'vertical'
        spacing: "20dp"
        padding: "20dp"
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        MDTopAppBar:
            title: "[i]Profile[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('l')]]
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10

        CircleImage:
            id: profile_image
            source: "default_profile.png"  # Default profile image
            size_hint: .4, None
            size: "150dp", "150dp"
            pos_hint: {'center_x': 0.2, 'center_y': 0.7}
            MDIconButton:
                icon: "camera"
                on_press: root.on_upload()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        GridLayout:
            cols: 2
            spacing: "10dp"
            padding: "10dp"

            Label:
                text: "User name:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: user_name_label  # ID for updating username dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Full name:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: full_name_label  # ID for updating username dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                text: "Gender:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: gender_label  # ID for updating username dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]


            Label:
                text: "Email:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: email_label  # ID for updating email dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Phone:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: phone_label  # ID for updating phone dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Bio:"
                size_hint_y: None
                height: self.texture_size[1]
            Label:
                id: bio_label  # ID for updating bio dynamically
                text: ""
                size_hint_y: None
                height: self.texture_size[1]


    MDBottomNavigation:

        MDBottomNavigationItem:
            name: 'userpage'
            text: 'PROFILE'
            icon: 'account'
            on_tab_press: app.show_screen('userpage')
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
           
        MDBottomNavigationItem:
            name: 'chat'
            text: 'Chat'
            icon: 'message-text'
            on_tab_press: app.show_chat_screen()  # Update to match the actual method name
            background_color: 0, 0, 0, 0

            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    left_action_items: [["arrow-left", lambda x: app.show_screen('profile')]]
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
                    elevation: 10
        MDBottomNavigationItem:
            name: 'device manager'
            text: 'device manager'
            icon: 'notebook-multiple'
            #on_tab_press: app.show_screen('contribution')
            background_color: 0, 0, 0, 0
            size_hint_y: None
            BoxLayout:
                orientation: 'vertical'
                spacing: "20dp"
                padding: "20dp"
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTopAppBar:
                    title: "[i]Profile[/i]"
                    left_action_items: [["arrow-left", lambda x: app.show_screen('home')]]
                    right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
                    elevation: 10   
                BoxLayout:
                    orientation: 'vertical'
                    spacing: "20dp"
                    padding: "20dp"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

               
                    MapView:
                        id: map_view
                        zoom: 10  # Ad     



<ContactUs>:
    name: 'contact_us'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    pos_hint:{"center_x":0.5,"center_y":0.5}
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "ABOUT US"
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["menu", lambda x: app.navigation_draw()]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10

        MDLabel:
            text: "Contact us"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


    MDBottomNavigation:
        md_bg_color: 0, 0, 0, 0
        background_color: 0, 0, 0, 0

        MDBottomNavigationItem:
            name: 'log_in'
            text: 'LOG IN'
            icon: 'account'
            on_tab_press: app.root.current = 'log_in'
            md_bg_color: 0, 0, 0, 0
            background_color: 0, 0, 0, 0
        MDBottomNavigationItem:
            name: 'contact_us'
            text: 'Contact us'
            icon: 'notebook-multiple'
            on_tab_press: app.root.current = 'contact_us'
            background_color: 0, 0, 0, 0


<Forgot>:
    name:"forgot"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        jojo.text = ""  # Clear text when entering


    on_leave:
        jojo.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('log_in')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: jojo
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.reset_password(jojo.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None



    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgot')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.reset_password(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None





<ForgotAdmin>:
    name:'forgotAdmin'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kima.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        joto.text = ""  # Clear text when entering


    on_leave:
        joto.text = ""  # Clear text when leaving



    #####pos_hint:{"center_x":0.5,"center_y":0.5}

    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "User Page"
            elevation: 10
            title: ""
            left_action_items: [["arrow-left",lambda x: app.show_screen('loginAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10


        MDLabel:
            text: "Forgot password"
            font_style: "H4"
            halign: "center"
            theme_text_color: "Primary"
            padding: dp(10), dp(20)
            size_hint_y: None
            height: self.texture_size[1]

        MDTextField:
            id: joto
            hint_text:'Enter your Email or Username'
            max_text_length:20
            on_text:self.text= self.text.replace("","")
            icon_right:"email"
            font_size:"20dp"
            size_hint_x:.85
            pos_hint:{"center_x":0.5,"center_y":0.65}
        MDTextButton:
            text:"Submit"
            size_hint: .5,.6
            on_release:root.resetpasswordAdmin(joto.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None


<Password_resetAdmin>:
    name: 'passwordresetAdmin'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    on_pre_enter:
        username_or_email_input.text = ""  # Clear text when entering
        new_password_input.text=""
        confirm_password_input.text=""



    on_leave:
        username_or_email_input.text = ""  # Clear text when entering
        new_password_input.text=""
        confirm_password_input.text=""


    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "Password Reset"
            elevation: 10
            left_action_items: [["arrow-left", lambda x: app.show_screen('forgotAdmin')]]  # Open navigation drawer
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]

        MDTextField:
            id: username_or_email_input  # Add this line for username or email input
            hint_text: 'Enter your username or email'
            max_text_length: 50
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: new_password_input
            hint_text: 'Enter your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextField:
            id: confirm_password_input
            hint_text: 'Confirm your new password'
            max_text_length: 20
            password: True  # Hide the entered text
            font_size: "20dp"
            size_hint_x: .85
            pos_hint: {"center_x": 0.5}
            on_text: self.text = self.text.replace(" ", "")  # Remove spaces from input

        MDTextButton:
            text: "Submit"
            size_hint: .5, .1
            pos_hint: {"center_x": 0.5}
            on_release:
                root.resetpasswordAdmin(username_or_email_input.text, new_password_input.text, confirm_password_input.text)
        MDBoxLayout:
            orientation: 'vertical'
            pos_hint:{"center_x":0.7,"center_y":0.9}
            size_hint_x: .2
            MDTextField:
                id: question_input
                hint_text: 'Ask me something...'
                on_text_validate: root.ask_question(self.text)
        ScrollView:
            BoxLayout:
                id: chat_history
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(10)
                spacing: dp(10)
                Label:
                    text: 'Welcome! How can I assist you?'
                    size_hint_y: None



<SettingsScreen>:
    username_input: username_input
    email_input: email_input
    phone_input: phone_input
    status_label: status_label

    BoxLayout:
        orientation: 'vertical'
        padding: dp(10)

        TextInput:
            id: username_input
            hint_text: "Enter username"
            size_hint_y: None
            height: dp(48)

        TextInput:
            id: email_input
            hint_text: "Enter email"
            size_hint_y: None
            height: dp(48)

        TextInput:
            id: phone_input
            hint_text: "Enter phone"
            size_hint_y: None
            height: dp(48)

        Button:
            text: "Fetch User Details"
            on_release: root.update_user_details()

        Button:
            text: "Save User Details"
            on_release: root.save_user_details()

        Label:
            id: status_label
            text: ""






<SettingsScreen>:
    username_input: username_input
    email_input: email_input
    phone_input: phone_input
    status_label: status_label

    BoxLayout:
        orientation: 'vertical'
        padding: dp(10)

        TextInput:
            id: username_input
            hint_text: "Enter username"
            size_hint_y: None
            height: dp(48)
            

        TextInput:
            id: email_input
            hint_text: "Enter email"
            size_hint_y: None
            height: dp(48)

        TextInput:
            id: phone_input
            hint_text: "Enter phone"
            size_hint_y: None
            height: dp(48)

        Button:
            text: "Fetch User Details"
            on_release: root.update_user_details()

        Button:
            text: "Save User Details"
            on_release: root.save_user_details()

        Label:
            id: status_label
            text: ""

<Settings>:
    name: 'settings'
    BoxLayout:
        orientation: 'vertical'
        MDLabel:
            text: 'Settings Screen'
            halign: 'center'
        # Add other widgets for settings screen
<SplashScreen>:
    name: 'splash'
    
    BoxLayout:
        orientation: 'vertical'
        #MDLabel:
         #   text: "Welcome to Kimani "
          #  halign: 'center'
           # font_style: 'H5'
            #size_hint_y: 0.8
        Image:
            source: 'JORAM.jpg'  # Replace with your splash image path
            allow_stretch: True
            keep_ratio: False
<Lof>:
    name:"loff"
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i]JOB PAGE[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('home')]]  # Open navigation drawer
            elevation: 10
            md_bg_color: 0, 0, 0, 0  # Transparent background
        MDLabel:
            text: 'CLICK YOUR SPECIFIED JOB POSITION'
            halign:'center'

        BoxLayout:
            orientation: 'vertical'
            MDRectangleFlatButton:
                text: "Finance"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanifinance'
            MDRectangleFlatButton:
                text: "Stores"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanistores' 
            MDRectangleFlatButton:
                text: "Transport"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanitransport' 
            MDRectangleFlatButton:
                text: "Drilling"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanidrilling' 
            MDRectangleFlatButton:
                text: "Site managers"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanisitemanagers'   
            MDRectangleFlatButton:
                text: "Mechanics"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginkimanimechanics' 
            MDRectangleFlatButton:
                text: "Other employees"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'loginotherkimaniworkers'  

<KimaniSiteManagerReport>:  
    name:'kimanisitemanagerreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'  
        MDTopAppBar:
            title: "[i]SITE MANAGER REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('userpagekimanidrilling')]]
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10 
        BoxLayout:
            orientation: 'vertical'
            MDRectangleFlatButton:
                text: "Drilling report"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'kimanidrillingreport'
            MDRectangleFlatButton:
                text: "Purchasing report"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'kimanipurchasingreport' 
            MDRectangleFlatButton:
                text: "Transport report"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'kimanitransportreport'
            BoxLayout:
                orientation: 'vertical'
                MDRectangleFlatButton:
                    text: "Finance report"
                    font_size: "15dp"
                    pos_hint:{"center_x":0.5,"center_y":0.5}
                    size_hint_x:.9
                    on_release: app.root.current = 'kimanifinancereport'
            MDRectangleFlatButton:
                text: "Stores report"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'kimanistoresreport' 
            MDRectangleFlatButton:
                text: "Sick & health report"
                font_size: "15dp"
                pos_hint:{"center_x":0.5,"center_y":0.5}
                size_hint_x:.9
                on_release: app.root.current = 'kimanitransportreport'           

<KimaniDrillingReport>:
    name:'kimanidrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'  
        MDTopAppBar:
            title: "[i]Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('userpagekimanidrilling')]]
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10 
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}                
            MDRectangleFlatButton:
                text:"dayshift Drilling Report"
                font_size:"20dp"
                size_hint_x:1
                background_color:0,0,0,0
                on_release: app.root.current = 'kimanidayshiftdrillingreport'
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}      
            MDRectangleFlatButton:
                text:"Night shift Drilling Report"
                font_size:"20dp"
                size_hint_x:1
                background_color:0,0,0,0
                on_release: app.root.current = 'kimaninightshiftdrillingreport'  
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}    

<KimaniDayShiftDrillingReport>:
    name: 'kimanidayshiftdrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos

        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i]DAY SHIFT Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanidrillingreport')]]
            elevation: 10
        
        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            GridLayout:
                cols: 1
                padding: dp(10)
                spacing: dp(10)
                size_hint_y: None
                height: self.minimum_height

                MDTextField:
                    id: Location_input
                    hint_text: 'Location:'
                    max_text_length: 200
                    icon_right: "map-marker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDLabel:
                    text: "Select your date"
                    theme_text_color: "Primary"

                MDIconButton:
                    id: Date_input
                    icon: "calendar"
                    on_release: app.show_date_picker('kimanidayshiftdrillingreport')
                
                MDTextField:
                    id: Rig_input
                    hint_text: 'Drilling Rig'
                    max_text_length: 200
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "1. Personnel on site"
                    color: 0, 0, 0, 1
                
                MDTextField:
                    id: Driller_input
                    hint_text: 'Driller:'
                    max_text_length: 200
                    icon_right: "human-worker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDTextField:
                    id: ADriller_input
                    hint_text: 'Assistance Driller:'
                    max_text_length: 200
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Mechanics_input
                    hint_text: 'Mechanics:'
                    max_text_length: 200
                    icon_right: "hammer-wrench"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Driver_input
                    hint_text: 'Driver:'
                    max_text_length: 200
                    icon_right: "steering"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: store_input
                    hint_text: 'Store keeper:'
                    max_text_length: 200
                    icon_right: "warehouse"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "2. Weather conditions"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Weather_input
                    hint_text: 'Night/day: weather:'
                    max_text_length: 200
                    icon_right: "weather-cloudy"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "3. Safety meeting"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Time_input
                    hint_text: 'Time'
                    max_text_length: 200
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Topic_input
                    hint_text: 'Topic covered (list):'
                    max_text_length: 200
                    icon_right: "checklist"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "4. Drilling progress"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Starttime_input
                    hint_text: 'Start Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Endtime_input
                    hint_text: 'End Time:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Totalhours_input
                    hint_text: 'Total hours worked:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Started_input
                    hint_text: 'Depth Started:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Depth_input
                    hint_text: 'Enter Depth End:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Meter_input
                    hint_text: 'Enter Total Meter Drilled:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Hole_input
                    hint_text: 'Enter Hole Id Number:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Angle_input
                    hint_text: 'Enter Drilling Angle:'
                    max_text_length: 20
                    icon_right: "compass"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "5. Core recovery"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Core_input
                    hint_text: 'Total core Recovered:'
                    max_text_length: 20
                    icon_right: "cube-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "6. Drilling parameter"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Bit_input
                    hint_text: 'Enter Drilling Bit Type:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Fluid_input
                    hint_text: 'Drilling fluid used:'
                    max_text_length: 20
                    icon_right: "flask-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "7. Equipment and maintenance"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: used_input
                    hint_text: 'Equipment Used:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Conditions_input
                    hint_text: 'Maintenance performed:'
                    max_text_length: 200
                    icon_right: "toolbox"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "8. Safety and Observations"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: safety_and_observations_input
                    hint_text: 'Safety and observations:'
                    max_text_length: 20
                    icon_right: "shield-check"
                    font_size: "20"
                MDRectangleFlatButton:
                    text: "Submit"
                    font_size: "20dp"
                    size_hint_x: 1
                    background_color: 0, 0, 0, 0
                    on_release: root.create_dayshiftreport(Rig_input.text, Date_input.text, Driller_input.text, ADriller_input.text, Mechanics_input.text, Driver_input.text, store_input.text, Weather_input.text, Time_input.text, Topic_input.text, Starttime_input.text, Endtime_input.text, Totalhours_input.text, Started_input.text, Depth_input.text, Meter_input.text, Hole_input.text, Angle_input.text, Core_input.text, Bit_input.text, Fluid_input.text, used_input.text, Conditions_input.text, observations_input.text, app.store.get('user_id'))




<KimaniNightshiftDrillingReport>:
    name:'kimaninightshiftshiftdrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos

        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i]Night SHIFT Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanidrillingreport')]]
            elevation: 10
        
        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            GridLayout:
                cols: 1
                padding: dp(10)
                spacing: dp(10)
                size_hint_y: None
                height: self.minimum_height

                MDTextField:
                    id: Location_input
                    hint_text: 'Location:'
                    max_text_length: 20
                    icon_right: "map-marker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDLabel:
                    text: "Select your date"
                    theme_text_color: "Primary"

                MDIconButton:
                    id: Date_input
                    icon: "calendar"
                    on_release: app.show_date_picker('kimaninightshiftdrillingreport')
                
                MDTextField:
                    id: Rig_input
                    hint_text: 'Drilling Rig'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "1. Personnel on site"
                    color: 0, 0, 0, 1
                
                MDTextField:
                    id: Driller_input
                    hint_text: 'Driller:'
                    max_text_length: 20
                    icon_right: "human-worker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDTextField:
                    id: ADriller_input
                    hint_text: 'Assistance Driller:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Mechanics_input
                    hint_text: 'Mechanics:'
                    max_text_length: 20
                    icon_right: "hammer-wrench"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Driver_input
                    hint_text: 'Driver:'
                    max_text_length: 20
                    icon_right: "steering"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: store_input
                    hint_text: 'Store keeper:'
                    max_text_length: 20
                    icon_right: "warehouse"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "2. Weather conditions"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Weather_input
                    hint_text: 'Night/day: weather:'
                    max_text_length: 20
                    icon_right: "weather-cloudy"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "3. Safety meeting"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Time_input
                    hint_text: 'Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Topic_input
                    hint_text: 'Topic covered (list):'
                    max_text_length: 20
                    icon_right: "checklist"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "4. Drilling progress"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Starttime_input
                    hint_text: 'Start Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Endtime_input
                    hint_text: 'End Time:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Totalhours_input
                    hint_text: 'Total hours worked:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Started_input
                    hint_text: 'Depth Started:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Depth_input
                    hint_text: 'Enter Depth End:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Meter_input
                    hint_text: 'Enter Meter Drilled:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Hole_input
                    hint_text: 'Enter Hole Id Number:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Angle_input
                    hint_text: 'Enter Drilling Angle:'
                    max_text_length: 20
                    icon_right: "compass"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "5. Core recovery"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Core_input
                    hint_text: 'Total core Recovered:'
                    max_text_length: 20
                    icon_right: "cube-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "6. Drilling parameter"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Bit_input
                    hint_text: 'Enter Drilling Bit Type:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Fluid_input
                    hint_text: 'Drilling fluid used:'
                    max_text_length: 20
                    icon_right: "flask-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "7. Equipment and maintenance"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: used_input
                    hint_text: 'Equipment Used:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Conditions_input
                    hint_text: 'Maintenance performed:'
                    max_text_length: 20
                    icon_right: "toolbox"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "8. Safety and Observations"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: observations_input
                    hint_text: 'Safety and observations:'
                    max_text_length: 20
                    icon_right: "shield-check"
                    font_size: "20"
                MDRectangleFlatButton:
                    text: "Submit"
                    font_size: "20dp"
                    size_hint_x: 1
                    background_color: 0, 0, 0, 0
                    on_release: root.create_nightshiftreport(Rig_input.text,Date_input.text, Driller_input.text ,ADriller_input.text,Mechanics_input.text,Driver_input.text, store_input.text,Weather_input.text,Time_input.text,Topic_input.text,Starttime_input.text,Endtime_input.text,Totalhours_input.text, Started_input.text, Depth_input.text, Meter_input.text, Hole_input.text, Angle_input.text,Core_input.text,Bit_input.text,Fluid_input.text,Conditions_input.text,observations_input.text, app.store.get('user_id'))    
<KimaniReportOptions>:
    name: 'kimanireportoptions'
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "[i]Report Options[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanidayshiftdrillingreport')]]
            elevation: 10

        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            MDList:
                OneLineListItem:
                    text: "Send to Stores"
                    on_release: root.send_report('stores')
                    
                OneLineListItem:
                    text: "Send to Admin"
                    on_release: root.send_report('admin')

                OneLineListItem:
                    text: "Send to Other"
                    on_release: root.send_report('other')
                
                OneLineListItem:
                    text: "Download as Document"
                    on_release: root.download_report()


<KimaniDrillingRequest>:    
    name:"kimanidrillingrequest"  
    BoxLayout:
        orientation: 'vertical'                      
               
<KimaniStoreReports>: 
    name:  "kimanistorereports" 
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos

        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i] STORES REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('userpagekimanistores')]]
            elevation: 10
        BoxLayout:
            orientation: 'vertical'
            spacing: "20dp"
            padding: "20dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            MDRectangleFlatButton:
                text: 'DELIVERY NOTE'
                on_release: app.root.current = 'kimanideliverynotes'
            MDRectangleFlatButton:
                text: 'GOODS RECEIVED NOTE'
                on_release: app.root.current = 'kimanigoodsreceivednotes'

       
        BoxLayout:
            orientation: 'vertical'
            spacing: "20dp"
            padding: "20dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            MDRectangleFlatButton:
                text: 'ISSUE NOTE'
                on_release: app.root.current = 'kimanistoreissuenotes'
            MDRectangleFlatButton:
                text: 'GATE PASS'
                on_release: app.root.current = 'kimanigatepasses'
<KimaniDeliveryNotes>:
    name: "kimanideliverynotes"
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1  # White background
            Rectangle:
                pos: self.pos
                size: self.size

        MDTopAppBar:
            title: "[i] STORES DELIVERY NOTE[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanistorereports')]]
            elevation: 10

        BoxLayout:
            id: main_layout
            orientation: 'vertical'
<KimaniGoodReceivedNotes>:
    name: "kimanigoodsreceivednotes"
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1  # White background
            Rectangle:
                pos: self.pos
                size: self.size

        MDTopAppBar:
            title: "[i] STORES RECEIVED NOTE[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanistorereports')]]
            elevation: 10

        BoxLayout:
            id: main_layout
            orientation: 'vertical'
<SiteManagerDrillingReport>:
    name:'sitemanagerdrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos
        
        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    BoxLayout:
        orientation: 'vertical'  
        MDTopAppBar:
            title: "[i]Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('userpagekimanisitemanagers')]]
            right_action_items: [["cog", lambda x: app.show_screen('settings')], ["clock", lambda x: app.callback_2()]]
            elevation: 10 
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}                
            MDRectangleFlatButton:
                text:"dayshift Drilling Report"
                font_size:"20dp"
                size_hint_x:1
                background_color:0,0,0,0
                on_release: app.root.current = 'dayshiftdrillingreport'
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}      
            MDRectangleFlatButton:
                text:"Night shift Drilling Report"
                font_size:"20dp"
                size_hint_x:1
                background_color:0,0,0,0
                on_release: app.root.current = 'nightshiftdrillingreport'  
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}    

<DayShiftDrillingReport>:
    name: 'dayshiftdrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos

        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i]DAY SHIFT Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('sitemanagerdrillingreport')]]
            elevation: 10
        
        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            GridLayout:
                cols: 1
                padding: dp(10)
                spacing: dp(10)
                size_hint_y: None
                height: self.minimum_height

                MDTextField:
                    id: Location_input
                    hint_text: 'Location:'
                    max_text_length: 200
                    icon_right: "map-marker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDLabel:
                    text: "Select your date"
                    theme_text_color: "Primary"

                MDIconButton:
                    id: Date_input
                    icon: "calendar"
                    on_release: app.show_date_picker('kimanidayshiftdrillingreport')
                
                MDTextField:
                    id: Rig_input
                    hint_text: 'Drilling Rig'
                    max_text_length: 200
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "1. Personnel on site"
                    color: 0, 0, 0, 1
                
                MDTextField:
                    id: Driller_input
                    hint_text: 'Driller:'
                    max_text_length: 200
                    icon_right: "human-worker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDTextField:
                    id: ADriller_input
                    hint_text: 'Assistance Driller:'
                    max_text_length: 200
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Mechanics_input
                    hint_text: 'Mechanics:'
                    max_text_length: 200
                    icon_right: "hammer-wrench"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Driver_input
                    hint_text: 'Driver:'
                    max_text_length: 200
                    icon_right: "steering"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: store_input
                    hint_text: 'Store keeper:'
                    max_text_length: 200
                    icon_right: "warehouse"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "2. Weather conditions"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Weather_input
                    hint_text: 'Night/day: weather:'
                    max_text_length: 200
                    icon_right: "weather-cloudy"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "3. Safety meeting"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Time_input
                    hint_text: 'Time'
                    max_text_length: 200
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Topic_input
                    hint_text: 'Topic covered (list):'
                    max_text_length: 200
                    icon_right: "checklist"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "4. Drilling progress"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Starttime_input
                    hint_text: 'Start Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Endtime_input
                    hint_text: 'End Time:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Totalhours_input
                    hint_text: 'Total hours worked:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Started_input
                    hint_text: 'Depth Started:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Depth_input
                    hint_text: 'Enter Depth End:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Meter_input
                    hint_text: 'Enter Meter Drilled:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Hole_input
                    hint_text: 'Enter Hole Id Number:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Angle_input
                    hint_text: 'Enter Drilling Angle:'
                    max_text_length: 20
                    icon_right: "compass"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "5. Core recovery"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Core_input
                    hint_text: 'Total core Recovered:'
                    max_text_length: 20
                    icon_right: "cube-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "6. Drilling parameter"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Bit_input
                    hint_text: 'Enter Drilling Bit Type:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Fluid_input
                    hint_text: 'Drilling fluid used:'
                    max_text_length: 20
                    icon_right: "flask-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "7. Equipment and maintenance"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: used_input
                    hint_text: 'Equipment Used:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Conditions_input
                    hint_text: 'Maintenance performed:'
                    max_text_length: 200
                    icon_right: "toolbox"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "8. Safety and Observations"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: observations_input
                    hint_text: 'Safety and observations:'
                    max_text_length: 20
                    icon_right: "shield-check"
                    font_size: "20"
                MDRectangleFlatButton:
                    text: "Submit"
                    font_size: "20dp"
                    size_hint_x: 1
                    background_color: 0, 0, 0, 0
                    on_release: root.create_dayshiftreport(Rig_input.text,Date_input.text, Driller_input.text ,ADriller_input.text,Mechanics_input.text,Driver_input.text, store_input.text,Weather_input.text,Time_input.text,Topic_input.text,Starttime_input.text,Endtime_input.text,Totalhours_input.text, Started_input.text, Depth_input.text, Meter_input.text, Hole_input.text, Angle_input.text,Core_input.text,Bit_input.text,Fluid_input.text,Conditions_input.text,observations_input.text,app.store.get('user_id') )    


<NightshiftDrillingReport>:
    name:'nightshifdrillingreport'
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color for blending with the transparent image
        Rectangle:
            source: "kimaniii.jpg"
            size: self.size
            pos: self.pos

        Color:
            rgba: 0, 1, 0, 1  # Green color for the border
        Line:
            width: 5  # Border thickness
            rectangle: self.x, self.y, self.width, self.height
    
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "[i]Night SHIFT Drilling REPORT[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('sitemanagerdrillingreport')]]
            elevation: 10
        
        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            GridLayout:
                cols: 1
                padding: dp(10)
                spacing: dp(10)
                size_hint_y: None
                height: self.minimum_height

                MDTextField:
                    id: Location_input
                    hint_text: 'Location:'
                    max_text_length: 20
                    icon_right: "map-marker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDLabel:
                    text: "Select your date"
                    theme_text_color: "Primary"

                MDIconButton:
                    id: Date_input
                    icon: "calendar"
                    on_release: app.show_date_picker('kimaninightshiftdrillingreport')
                
                MDTextField:
                    id: Rig_input
                    hint_text: 'Drilling Rig'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "1. Personnel on site"
                    color: 0, 0, 0, 1
                
                MDTextField:
                    id: Driller_input
                    hint_text: 'Driller:'
                    max_text_length: 20
                    icon_right: "human-worker"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                MDTextField:
                    id: ADriller_input
                    hint_text: 'Assistance Driller:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Mechanics_input
                    hint_text: 'Mechanics:'
                    max_text_length: 20
                    icon_right: "hammer-wrench"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Driver_input
                    hint_text: 'Driver:'
                    max_text_length: 20
                    icon_right: "steering"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: store_input
                    hint_text: 'Store keeper:'
                    max_text_length: 20
                    icon_right: "warehouse"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "2. Weather conditions"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Weather_input
                    hint_text: 'Night/day: weather:'
                    max_text_length: 20
                    icon_right: "weather-cloudy"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)
                
                Label:
                    text: "3. Safety meeting"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Time_input
                    hint_text: 'Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Topic_input
                    hint_text: 'Topic covered (list):'
                    max_text_length: 20
                    icon_right: "checklist"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "4. Drilling progress"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Starttime_input
                    hint_text: 'Start Time'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Endtime_input
                    hint_text: 'End Time:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Totalhours_input
                    hint_text: 'Total hours worked:'
                    max_text_length: 20
                    icon_right: "timer"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Started_input
                    hint_text: 'Depth Started:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Depth_input
                    hint_text: 'Enter Depth End:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Meter_input
                    hint_text: 'Enter Meter Drilled:'
                    max_text_length: 20
                    icon_right: "ruler"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Hole_input
                    hint_text: 'Enter Hole Id Number:'
                    max_text_length: 20
                    icon_right: "oil-rig"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Angle_input
                    hint_text: 'Enter Drilling Angle:'
                    max_text_length: 20
                    icon_right: "compass"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "5. Core recovery"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Core_input
                    hint_text: 'Total core Recovered:'
                    max_text_length: 20
                    icon_right: "cube-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "6. Drilling parameter"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: Bit_input
                    hint_text: 'Enter Drilling Bit Type:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Fluid_input
                    hint_text: 'Drilling fluid used:'
                    max_text_length: 20
                    icon_right: "flask-outline"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "7. Equipment and maintenance"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: used_input
                    hint_text: 'Equipment Used:'
                    max_text_length: 20
                    icon_right: "tools"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                MDTextField:
                    id: Conditions_input
                    hint_text: 'Maintenance performed:'
                    max_text_length: 20
                    icon_right: "toolbox"
                    font_size: "20dp"
                    size_hint_x: .85
                    size_hint_y: None
                    height: dp(50)

                Label:
                    text: "8. Safety and Observations"
                    color: 0, 0, 0, 1

                MDTextField:
                    id: observations_input
                    hint_text: 'Safety and observations:'
                    max_text_length: 20
                    icon_right: "shield-check"
                    font_size: "20"
                MDRectangleFlatButton:
                    text: "Submit"
                    font_size: "20dp"
                    size_hint_x: 1
                    background_color: 0, 0, 0, 0
                    on_release: root.create_nightshiftreport(Rig_input.text,Date_input.text, Driller_input.text ,ADriller_input.text,Mechanics_input.text,Driver_input.text, store_input.text,Weather_input.text,Time_input.text,Topic_input.text,Starttime_input.text,Endtime_input.text,Totalhours_input.text, Started_input.text, Depth_input.text, Meter_input.text, Hole_input.text, Angle_input.text,Core_input.text,Bit_input.text,Fluid_input.text,Conditions_input.text,observations_input.text, app.store.get('Login_id'))    
<KimaniSiteManagerReportOptions>:
    name: 'kimanisitemanagerreportoptions'
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            title: "[i]Report Options[/i]"
            left_action_items: [["arrow-left", lambda x: app.show_screen('kimanidayshiftdrillingreport')]]
            elevation: 10

        ScrollView:
            size_hint: (1, 1)
            do_scroll_x: False
            do_scroll_y: True
            
            MDList:
                OneLineListItem:
                    text: "Send to Stores"
                    on_release: root.send_report('stores')
                    
                OneLineListItem:
                    text: "Send to Admin"
                    on_release: root.send_report('admin')

                OneLineListItem:
                    text: "Send to Other"
                    on_release: root.send_report('other')
                
                OneLineListItem:
                    text: "Download as Document"
                    on_release: root.download_report()
